(()=>{var y=new Set,j;function S(e){let{parentImpulse:t}=e;return t?y.has(t)?!0:S(t):!1}function E(e){if(p[0]?.[0]!==C){for(let t of e.splice(0))y.add(t);j=j!==void 0?j:setTimeout(()=>{for(let t of y)S(t)||t();y.clear(),j=void 0},0)}}function N(e,t){for(let[n,o]of Object.entries(e)){if(Object.prototype.hasOwnProperty.call(t,n))continue;let r=[];typeof o=="function"&&(o=o.bind(t)),Object.defineProperty(t,n,{get(){return r.push(x[0]),o},set(s){s!==o&&(o=s,E(r))}})}}var g=new WeakMap,p=[],x=[];function w(e,t,n,o,r,s){let f=o===void 0&&n[0]===void 0,[i]=p,c=0;function l(m){p.unshift(i),x.unshift(l);let a;try{let u=f?[g.get(n),...n.slice(1)]:t;a=e(u)}catch(u){console.error(u)}if(o!==void 0){let u={...r},h=n[o+2];if(b(a,t,n,o,r,m),r=u,c>0&&h?.length&&n[o+2]!==h){let{container:d}=r;v(h,d)}}else{let[u]=n;if(u){let[,h]=i;h(u,a)}else g.set(n,a)}x.shift(),p.shift(),c++}if(f){E([l]);return}l.parentImpulse=x[0],l(s)}var O=new WeakMap;function $(e,t){let{container:n}=t,o;for(;t&&!o;)({node:o,sibling:t}=t);o?n.insertBefore(e,o):n.appendChild(e)}function v(e,t){if(g.has(e)){let r=g.get(e);typeof r=="function"&&r(),g.delete(e)}let[n,,...o]=e;n&&t&&(t.removeChild(n),t=void 0);for(let r of o)v(r,t)}function A(e,t,n,o,r){let[,s,...f]=n;for(let c=e.length-1;c>=0;c--)b(e[c],t,n,c,o,r);let{container:i}=o;n.splice(e.length+2);for(let c of f)!c?.length||n.indexOf(c)>1||v(c,i);for(let[c,l]of Object.entries(s))n.indexOf(l)<2&&delete s[c]}function D(e,t=[],n,o){let r=String(e),[s]=t;return!s||!("nodeValue"in s)?(s=p[0][0].createTextNode(r),$(s,n),[s]):(o&&o.pop(),r!==s.nodeValue&&(s.nodeValue=r),t)}function L(e,t,n,o,r,s){if(!e&&e!==0||e===!0)return[];if(typeof e=="object"&&!Array.isArray(e))return e.parentElement?[]:($(e,r),[e]);let[,f]=n,i=s?s.slice(-1):n[o+2];if(!Array.isArray(e))return D(e,i,r,s);let[c,l,...m]=e,[,a,u]=c.match(/^\s*(.*?)\s*(?::(.*?))?$/),h=a==="";i=f?.[u]||(i?.length>1?i:[,{}]);let[d]=i;return h?(d&&(i=[,{}]),typeof l=="function"?w(l,t,i):l&&typeof l=="object"?(t=O.get(i)||{},O.has(i)||O.set(i,t),N(l,t)):O.delete(i)):(d?.tagName?.toLowerCase?.()!==a.toLowerCase()?(d=p[0][0].createElement(a),i=[d,{}],$(d,r)):s&&s.pop(),typeof l=="function"?w(l,t,i):l&&p[0][1](d,l),r={container:d},s&&(s=[...d.childNodes])),u&&(f[u]=i),A(m,t,i,r,s),i}function b(e,t,n,o,r,s){if(typeof e=="function"){w(e,t,n,o,r,s);return}let f={...r},i=L(e,t,n,o,r,s),[c]=n[o+2]=i;!c&&r.node!==f.node&&(c=r.node),c&&Object.assign(r,{node:c,sibling:f})}var T=new Set(["wbr","track","source","param","meta","link","keygen","input","img","hr","embed","command","col","br","base","area","!doctype"]),W={className:"class"},C={createTextNode(e){return{nodeValue:e,toString(){return this.nodeValue}}},createDocumentFragment(){return{childNodes:[],appendChild(e){this.removeChild(e),this.childNodes.push(e),e.parentElement=this},insertBefore(e,t){let{childNodes:n}=this;this.removeChild(e);let o=n.indexOf(t);n.splice(o,0,e),e.parentElement=this},removeChild(e){let{childNodes:t}=this,n=t.indexOf(e);n!==-1&&(t.splice(n,1),e.parentElement=null)},toString(){return this.childNodes.join("")}}},createElement(e){let t=this.createDocumentFragment();return Object.assign(t,{tagName:e,toString(){let{appendChild:n,insertBefore:o,removeChild:r,toString:s,tagName:f,childNodes:i,parentElement:c,...l}=this,m=`<${f}`;for(let[a,u]of Object.entries(l))!u&&u!==0||typeof u=="function"||(a=W[a]||a.replace(/(?=[A-Z])/g,"-").toLowerCase(),m+=` ${a}="${u===!0?"":u}"`);return T.has(f.toLowerCase())?`${m}>`:`${m}>${this.childNodes.join("")}</${f}>`}})}},B=typeof window=="object"&&window.document||C;function F(e,t){for(let[n,o]of Object.entries(t))e[n]!==o&&(e[n]=o)}function M(e,t){let[n,...o]=` ${e}`.split(/(?=#|\.|\[)/),r=t.createElement(n.slice(1)||"div"),s=[];for(let f of o){if(f.startsWith("#")){r.id=f.slice(1);continue}else if(f.startsWith(".")){s.push(f.slice(1));continue}let[,i,c]=f.match(/^\[\s*([^=[]*?)\s*(?:=([^[]*))?\]/);i&&(r[i]=c||!0)}return r.className=s.join(" "),r}function k(e,t,n=B,o=F){typeof e!="object"&&(e=n?.querySelector?.(e)||M(e,n));let r=[...e.childNodes];p.unshift([n,o]),b(t,{},[e,{}],0,{container:e},r),p.shift();for(let s of r)e.removeChild(s);return e}Object.assign(k,{document:C});typeof window=="object"?window.stew=k:typeof module=="object"&&(module.exports=k);})();
