//@triplett/stew@v3.2.2
(()=>{var se=new Set(["wbr","track","source","param","meta","link","keygen","input","img","hr","embed","command","col","br","base","area","!doctype"]),re={className:"class",tabIndex:"tabindex"};function A(t,r,e){for(let n of t){if(!("tagName"in n))continue;let s=new Set((n.className||"").trim().split(/\s+/));for(let[i,...o]of r){let[c,f,...h]=i,u=r;if((!c||c===n.tagName)&&(!f||f===n.id)&&h.every(a=>s.has(a)))if(e)o.length?u=[o,...u]:e.add(n);else return n;let l=A(n.childNodes,u,e);if(l)return l}}}function R(t){return t.trim().split(/\s*,\s*/).map(r=>r.split(/\s+/).map(e=>{let n=e.split("."),[s,i=""]=n.shift().split("#");return n.unshift(s,i),n}))}function B(t){let{childNodes:r,innerHTML:e}=t;if(typeof e=="string")return e;let n=[],s=!1;for(let i of r){let o="nodeValue"in i;s&&o&&n.push("<!---->"),n.push(i),s=o}return n.join("")}var Z={createTextNode(t){return{nodeValue:t,toString(){return this.nodeValue.replace(/\&/,"&amp;").replace(/</,"&lt;").replace(/>/g,"&gt;")}}},createDocumentFragment(){return{parentElement:null,innerHTML:null,childNodes:[],appendChild(t){this.removeChild(t),this.childNodes.push(t),t.parentElement=this},insertBefore(t,r){let{childNodes:e}=this;this.removeChild(t);let n=e.indexOf(r);e.splice(n,0,t),t.parentElement=this},removeChild(t){let{childNodes:r}=this,e=r.indexOf(t);e!==-1&&(r.splice(e,1),t.parentElement=null)},querySelector(t){let r=R(t);return A(this.childNodes,r)||null},querySelectorAll(t){let r=R(t),e=new Set;return A(this.childNodes,r,e),[...e]},toString(){return B(this)}}},createElement(t){let r=this.createDocumentFragment();return Object.assign(r,{tagName:t,style:{},setAttribute(e,n){v.has(e)||(this[e]=n)},getAttribute(e){if(!v.has(e))return this[e]},removeAttribute(e){v.has(e)||(this[e]=void 0)},toString(){let e=`<${t==="!doctype"?"!DOCTYPE":t}`,n=Object.entries(this).filter(([o])=>!v.has(o)),s=Object.entries(this.style);d.isServer||(n.sort(([o],[c])=>o.localeCompare(c)),s.sort(([o],[c])=>o.localeCompare(c)));for(let[o,c]of n)!c&&c!==0||typeof c=="function"||/['"&<>]/.test(o)||(o=re[o]||o.replace(/(?=[A-Z])/g,"-").toLowerCase(),e+=` ${o}${c===!0?"":`="${String(c).replace(/"/g,"&quot;")}"`}`);let i=s.map(([o,c])=>`${o.replace(/(?=[A-Z])/g,"-").toLowerCase()}:${c};`).join("");return i&&(e+=` style="${i}"`),se.has(t)?`${e}>`:`${e}>${B(this)}</${t}>`}})}},v=new Set(Object.keys(Z.createElement("div")));function _(t,r,e,n){e=new Set(e);let s=Object.entries(r).filter(([i,o])=>{e.delete(i);let c=~i.indexOf("-")?t.getAttribute(i):t[i];return o!==c});for(let i of e){let o=~i.indexOf("-")?n.getAttribute(i):n[i];s.push([i,o])}for(let[i,o]of s)if(i==="style"){let c=Object.entries(o),{style:f}=t;for(let[h,u]of c)f[h]!==String(u)&&(f[h]=u)}else{if(v.has(i))continue;~i.indexOf("-")?o==null?t.removeAttribute(i):t.setAttribute(i,o===!0?"":o):t[i]=o}}var E=typeof window=="object",b=[],y=[],S=[Z,_,{},"div"],T=()=>{},I=E?[window.document,_,{},"div"]:S;var K=new WeakMap;function Q(t,r=[]){let e=String(t),[n]=r;if(!n||!("nodeValue"in n)){let[[s]]=b;return n=s.createTextNode(e),[n]}return e!==n.nodeValue&&(n.nodeValue=e),r}function F(t,r,e=[]){let[n]=b,[s,i,o]=n,[c]=e;if(!("keyedViews"in e)||t!==c?.tagName?.toLowerCase?.()){if(!Object.prototype.hasOwnProperty.call(o,t)){let f=s.createElement(t);o[t]=f}c=s.createElement(t),e=Object.assign([c],{keyedViews:{}})}if(r){let f=K.get(c);i(c,r,f,o[c.tagName.toLowerCase()]),K.set(c,Object.keys(r))}return e}function V(t,r){let{container:e,sibling:n}=r;n&&n.previousSibling!==t?e.insertBefore(t,n):!n&&e.lastChild!==t&&e.appendChild(t)}var{TEXT_NODE:oe,COMMENT_NODE:ie}=E?window.Node:{};function j(t,r){let[e,...n]=t;if(e){r.removeChild(e);return}for(let s of n)j(s,r)}function q(t){return[...t.childNodes].filter(({nodeType:e})=>e!==ie).reverse().map(e=>e.nodeType===oe?[e]:Object.assign([e],{keyedViews:{}}))}function $(t,r,e,n){let{container:s,candidates:i=[],doAppend:o}=n,[c,...f]=e,h={};e.splice(t.length+1);for(let u=t.length-1;u>=0;u--){let g=e[u+1],l=O(t[u],r,e,u,n),[a]=e[u+1]=l;if(l.key&&(h[l.key]=l),a)l===i[0]?i.shift():(o||a!==g?.[0])&&V(a,n);else{l.sibling=n.sibling;continue}n.sibling=a}e.keyedViews=h,c&&i.length&&f.push(...i);for(let u of f)!u?.length||e.indexOf(u)>0||j(u,s)}function O(t,r,e,n,s){let{candidates:i,doAppend:o}=s,c=i?.[0]||e[n+1];if(!Array.isArray(t)){switch(typeof t){case"function":return d.isServer?(t=C(t,[],r),O(t,r,e,n,s)):L(t,r,e,n,s);case"object":{if(!t)return[];if(c&&!i?.[0])return c;let[[k,,,z]]=b,[[G,J,ee]]=y,H=c&&"keyedViews"in c?c:Object.assign([k.createElement(z)],{keyedViews:{}}),[te]=H,ne=G(t,J,te);return ee.push(ne),H}case"string":case"number":return Q(t,c)}return t&&c||[]}let[f,h,...u]=t,{key:g,ref:l,...a}=h||{},w=f==="",p=(!i&&g?e.keyedViews[g]:c)||[],[m]=p;return w?((m||!("keyedViews"in p))&&(p=Object.assign([],{keyedViews:{}})),"context"in a&&(r=a.context),!i&&!o&&(s.doAppend=p!==c)):([m]=p=F(f.toLowerCase(),a,p),s={container:m},i&&(s.candidates=q(m))),l&&l.unshift(s.container),$(u,r,p,s),w?s.doAppend=o:s.candidates=void 0,p.key=g,p}var d=[];function U(t){let{view:r,teardowns:e,registry:n}=t;r.fiber=void 0;for(let s of n)s.delete(t);for(let s of t.slice(1))U(s);for(let s of e)typeof s=="function"&&s()}function C(t,...r){try{return t(...r)}catch(e){console.error(e)}}function L(t,r,e,n,s){let[i]=d,o=e[n+1]?.fiber;if(!o){let c=function(l){l?[t,r,s]=l:s.sibling=e.slice(n+2).find(m=>m[0]||m.sibling)?.[0],b.unshift(f),y.unshift(h),d.unshift(o),g.splice(0);let a=o.splice(1),w=C(t,u,r),p=O(w,r,e,n,s);if(!l){let m=o.view;if(c.queued=!1,p!==m){j(m,s.container);let[k]=e[n+1]=p;k&&V(k,s)}}for(let m of a)~o.indexOf(m)||U(m);return d.shift(),y.shift(),b.shift(),p.fiber=o,o.view=p},[f]=b,[h]=y,u=[],g=[];o=Object.assign([c],{depth:d.length,registry:new Set,teardowns:g})}return i.push(o),o[0]([t,r,s])}function x(t,r,...e){let n=typeof e[0]=="function"?e.shift():T,s=e.length&&!Array.isArray(e[0])?e.shift():{},i=[],[o=I]=e,c=t==="",f=o===S;if(o.length<3&&(o=Object.assign([],S,o)),typeof t=="string"){let[w]=o;if(c)t=w.createDocumentFragment();else{if(f)return;t=w.querySelector(t)}}let h=Object.assign([()=>{}],{registry:new Set}),u=Object.assign([t],{keyedViews:{}}),g=f?void 0:q(t),l={container:t,candidates:g};b.unshift(o),y.unshift([n,s,i]),d.unshift(h),d.isServer=f,$([r],{},u,l),d.isServer=void 0,d.shift(),y.shift(),b.shift(),l.candidates=void 0;let a=c?t:void 0;return n!==T?Promise.all(i).then(()=>a):a}var W=[],M=new Set,X=[],D;function Y(t){for(let r of t)M.add(r);D||(D=setTimeout(()=>{for(let n of W.splice(0))n();let r=X.splice(0),e={};for(let n of[...M]){let{0:s,depth:i}=n,o=e[i];o?o.push(s):e[i]=[s],n[0].queued=!0}M.clear(),D=void 0;for(let n of Object.keys(e).sort((s,i)=>s-i))for(let s of e[n])s.queued&&s();for(let[n,s]of r)n[s]=void 0},0))}function P(t){if(d.isServer)return;let[r]=d;return new Promise(e=>{W.push(()=>{let n=t?C(t):void 0;r&&r.teardowns.push(n),e(n)}),Y([])})}function N(t,r=[]){let e=Array.isArray(t)?[]:{};if(r.length){let s=Object.fromEntries(r.map(i=>[i]));t=Object.assign(s,t)}let n=Object.entries(t);d.isServer&&Object.assign(e,Object.fromEntries(n.splice(0)));for(let[s,i]of n){let o=~r.indexOf(s),c=new Set;typeof i=="function"&&(i=i.bind(e)),Object.defineProperty(e,s,{get(){if(d.length){let[f]=d;c.add(f),f.registry.add(c)}return i},set(f){if(f!==i){if(i=f,o){if(i===void 0)return;X.push([e,s])}Y(c),c.clear()}}})}return e}Object.assign(x,{createState:N,onRender:P});typeof window=="object"?window.stew=x:typeof module=="object"&&(module.exports=x);var Ee=x;})();
/*! For license information please see stew.min.js.LEGAL.txt */
